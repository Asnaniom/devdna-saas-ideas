<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevDNA - GitHub to SaaS Idea Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans">
    <div id="app">
        <!-- Landing Page -->
        <div id="landing" class="min-h-screen flex flex-col items-center justify-center p-4 gradient-bg text-white text-center">
            <h1 class="text-5xl md:text-7xl font-bold mb-6">DevDNA ðŸ§¬</h1>
            <p class="text-xl md:text-2xl mb-12 max-w-2xl">Discover SaaS ideas hiding in your GitHub profile. Turn your code into a business.</p>
            
            <div class="w-full max-w-md glass-card p-8 rounded-3xl shadow-2xl text-gray-800">
                <label class="block text-left font-semibold mb-2">GitHub Username</label>
                <input type="text" id="username" placeholder="e.g. torvalds" 
                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none mb-6 text-lg">
                <button onclick="analyzeProfile()" id="analyzeBtn"
                    class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-xl transition duration-300 text-lg shadow-lg">
                    Analyze My DNA
                </button>
            </div>
            
            <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl opacity-80">
                <div>
                    <div class="text-3xl mb-2">ðŸš€</div>
                    <p class="font-medium">Personalized Ideas</p>
                </div>
                <div>
                    <div class="text-3xl mb-2">ðŸ“Š</div>
                    <p class="font-medium">Profile Insights</p>
                </div>
                <div>
                    <div class="text-3xl mb-2">ðŸ’°</div>
                    <p class="font-medium">Monetization Paths</p>
                </div>
            </div>
        </div>

        <!-- Results Page (Hidden by default) -->
        <div id="results" class="hidden p-4 md:p-8 max-w-6xl mx-auto py-12">
            <header class="flex flex-col md:flex-row items-center gap-6 mb-12 bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
                <img id="avatar" src="" class="w-24 h-24 rounded-full border-4 border-purple-100">
                <div class="text-center md:text-left">
                    <h2 id="fullName" class="text-3xl font-bold text-gray-900"></h2>
                    <p id="githubLink" class="text-purple-600 font-medium"></p>
                </div>
                <div class="flex gap-4 md:ml-auto">
                    <div class="text-center px-6 py-3 bg-purple-50 rounded-2xl">
                        <div id="repoCount" class="text-xl font-bold text-purple-700">0</div>
                        <div class="text-xs uppercase tracking-wider text-purple-400 font-bold">Repos</div>
                    </div>
                    <div class="text-center px-6 py-3 bg-blue-50 rounded-2xl">
                        <div id="followerCount" class="text-xl font-bold text-blue-700">0</div>
                        <div class="text-xs uppercase tracking-wider text-blue-400 font-bold">Followers</div>
                    </div>
                </div>
            </header>

            <section>
                <h3 class="text-2xl font-bold mb-8 text-gray-800 flex items-center gap-2">
                    âœ¨ Your SaaS Ideas <span id="ideaCountBadge" class="bg-gray-200 text-gray-600 text-sm px-3 py-1 rounded-full">3</span>
                </h3>
                <div id="ideasGrid" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Ideas injected here -->
                </div>

                <div id="generateMoreContainer" class="mt-12 text-center">
                    <button id="generateMoreBtn" onclick="generateMore()"
                        class="bg-white border-2 border-purple-200 text-purple-600 hover:bg-purple-50 font-bold py-4 px-12 rounded-2xl transition duration-300 shadow-sm">
                        Generate 3 More Ideas
                    </button>
                </div>

                <!-- Email Gate (Hidden) -->
                <div id="emailGate" class="hidden mt-12 p-12 bg-purple-900 rounded-3xl text-white text-center shadow-2xl relative overflow-hidden">
                    <div class="relative z-10">
                        <h3 class="text-3xl font-bold mb-4">Want more ideas? ðŸ“§</h3>
                        <p class="text-purple-200 mb-8 text-lg">We've found more potential businesses in your DNA. Enter your email to unlock unlimited ideas.</p>
                        <div class="max-w-md mx-auto flex flex-col sm:flex-row gap-3">
                            <input type="email" id="userEmail" placeholder="your@email.com" 
                                class="flex-grow px-6 py-4 rounded-xl text-gray-900 focus:outline-none text-lg">
                            <button onclick="unlockUnlimited()" 
                                class="bg-yellow-400 hover:bg-yellow-500 text-purple-900 font-bold px-8 py-4 rounded-xl transition duration-300 text-lg">
                                Unlock All
                            </button>
                        </div>
                    </div>
                    <!-- Decorative circles -->
                    <div class="absolute -top-12 -left-12 w-48 h-48 bg-purple-800 rounded-full opacity-50"></div>
                    <div class="absolute -bottom-12 -right-12 w-48 h-48 bg-purple-700 rounded-full opacity-50"></div>
                </div>
            </section>
        </div>
    </div>

    <script>
        let currentUserData = null;
        let ideasGenerated = 0;
        let isUnlocked = false;

        async function analyzeProfile() {
            const username = document.getElementById('username').value.trim();
            if (!username) return alert('Please enter a username');

            const btn = document.getElementById('analyzeBtn');
            btn.innerText = 'Analyzing DNA...';
            btn.disabled = true;

            try {
                const response = await fetch(`https://api.github.com/users/${username}`);
                if (!response.ok) throw new Error('User not found');
                
                const user = await response.json();
                const langResponse = await fetch(`https://api.github.com/users/${username}/repos?sort=updated&per_page=10`);
                const repos = await langResponse.json();
                
                // Get languages
                const languages = Array.from(new Set(repos.map(r => r.language).filter(l => l)));
                
                currentUserData = { user, languages };
                displayResults(user, languages);
            } catch (error) {
                alert(error.message);
                btn.innerText = 'Analyze My DNA';
                btn.disabled = false;
            }
        }

        function displayResults(user, languages) {
            document.getElementById('landing').classList.add('hidden');
            document.getElementById('results').classList.remove('hidden');
            
            document.getElementById('avatar').src = user.avatar_url;
            document.getElementById('fullName').innerText = user.name || user.login;
            document.getElementById('githubLink').innerText = `@${user.login}`;
            document.getElementById('repoCount').innerText = user.public_repos;
            document.getElementById('followerCount').innerText = user.followers;

            generateInitialIdeas(languages);
        }

        function generateInitialIdeas(languages) {
            const grid = document.getElementById('ideasGrid');
            grid.innerHTML = '';
            
            const ideas = getRandomIdeas(languages, 3);
            ideas.forEach(idea => appendIdea(idea));
            ideasGenerated = 3;
        }

        function generateMore() {
            if (ideasGenerated >= 6 && !isUnlocked) {
                document.getElementById('generateMoreContainer').classList.add('hidden');
                document.getElementById('emailGate').classList.remove('hidden');
                return;
            }

            const ideas = getRandomIdeas(currentUserData.languages, 3);
            ideas.forEach(idea => appendIdea(idea));
            ideasGenerated += 3;
            document.getElementById('ideaCountBadge').innerText = ideasGenerated;

            if (ideasGenerated >= 6 && !isUnlocked) {
                document.getElementById('generateMoreContainer').classList.add('hidden');
                document.getElementById('emailGate').classList.remove('hidden');
            }
        }

        function appendIdea(idea) {
            const grid = document.getElementById('ideasGrid');
            const card = document.createElement('div');
            card.className = 'bg-white p-8 rounded-3xl shadow-sm border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2';
            card.innerHTML = `
                <div class="text-4xl mb-4">${idea.emoji}</div>
                <h4 class="text-xl font-bold mb-3 text-gray-900">${idea.title}</h4>
                <p class="text-gray-600 mb-6 leading-relaxed">${idea.desc}</p>
                <div class="flex flex-wrap gap-2">
                    ${idea.tags.map(tag => `<span class="bg-purple-50 text-purple-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">${tag}</span>`).join('')}
                </div>
            `;
            grid.appendChild(card);
        }

        function unlockUnlimited() {
            const email = document.getElementById('userEmail').value;
            if (!email || !email.includes('@')) return alert('Please enter a valid email');
            
            // Here you would send email to your backend/service
            alert('Welcome to the elite builders! Unlimited access unlocked.');
            
            isUnlocked = true;
            document.getElementById('emailGate').classList.add('hidden');
            document.getElementById('generateMoreContainer').classList.remove('hidden');
            document.getElementById('generateMoreBtn').innerText = 'Generate Unlimited Ideas';
        }

        function getRandomIdeas(userLangs, count) {
            const lang = userLangs[0] || 'Web';
            const allIdeas = [
                { title: `AI-Powered ${lang} Auditor`, desc: `A SaaS that scans ${lang} codebases for security vulnerabilities using LLMs.`, emoji: 'ðŸ›¡ï¸', tags: ['AI', 'Security', lang] },
                { title: `${lang} Performance Suite`, desc: `Real-time monitoring tool specifically optimized for ${lang} backend services.`, emoji: 'âš¡', tags: ['DevOps', 'Cloud', lang] },
                { title: `Micro-SaaS for ${lang} Teams`, desc: `A collaboration layer that integrates directly into the ${lang} build pipeline.`, emoji: 'ðŸ¤', tags: ['B2B', 'SaaS', lang] },
                { title: `Automated Documentation`, desc: `Generates beautiful, interactive documentation sites from your code comments.`, emoji: 'ðŸ“š', tags: ['DevTools', 'UI'] },
                { title: `Error Prediction Engine`, desc: `Uses historical commit data to predict where the next bug will likely occur.`, emoji: 'ðŸ”®', tags: ['AI', 'ML'] },
                { title: `Visual API Designer`, desc: `A drag-and-drop tool to design and deploy production-ready APIs in minutes.`, emoji: 'ðŸŽ¨', tags: ['Low-Code', 'API'] },
                { title: `Repo to Landing Page`, desc: `Instantly turns any GitHub repo into a high-converting landing page for marketing.`, emoji: 'ðŸŒ', tags: ['Marketing', 'No-Code'] },
                { title: `Smart Pull Request Reviewer`, desc: `An AI agent that provides deep context-aware feedback on complex logic changes.`, emoji: 'ðŸ¤–', tags: ['AI', 'productivity'] },
                { title: `Dependency Health Monitor`, desc: `Tracks the financial and security health of all your open-source dependencies.`, emoji: 'â¤ï¸', tags: ['OSS', 'Audit'] },
                { title: `Team Velocity Analytics`, desc: `Advanced dashboard showing team output without the typical toxic metrics.`, emoji: 'ðŸ“ˆ', tags: ['Management', 'HR'] },
                { title: `Custom CLI Generator`, desc: `A tool to build and distribute beautiful command line interfaces for your team.`, emoji: 'âŒ¨ï¸', tags: ['DevTools', 'CLI'] },
                { title: `Database Schema Visualizer`, desc: `Live, collaborative mapping of your production database schemas and relations.`, emoji: 'ðŸ—ºï¸', tags: ['Database', 'Web'] }
            ];
            
            return allIdeas.sort(() => 0.5 - Math.random()).slice(0, count);
        }
    </script>
</body>
</html>
